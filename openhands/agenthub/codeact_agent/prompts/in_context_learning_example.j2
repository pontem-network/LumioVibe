Here's a running example of how to perform a task with the provided tools.

--------------------- START OF EXAMPLE ---------------------

USER: Create a simple staking contract on Lumio with a React frontend.

A: Sure! Let me start by running the scaffold script:
<function=execute_bash>
<parameter=command>
bash /openhands/templates/scaffold-fast.sh staking_app
</parameter>
</function>

USER: EXECUTION RESULT of [execute_bash]:
Project created! Deployer: 0x123...abc

A: Project created. Now I'll modify the contract for staking, then compile and deploy:
<function=execute_bash>
<parameter=command>
cd /workspace/staking_app/contract && lumio move compile --package-dir . && lumio move publish --package-dir . --assume-yes
</parameter>
</function>

USER: EXECUTION RESULT of [execute_bash]:
Transaction submitted. Result: Success

A: Contract deployed! Now I MUST update useContract.ts to match my contract (NOT counter!):
<function=str_replace_editor>
<parameter=command>str_replace</parameter>
<parameter=path>/workspace/staking_app/frontend/src/hooks/useContract.ts</parameter>
<parameter=old_str>const MODULE_NAME = 'counter';</parameter>
<parameter=new_str>const MODULE_NAME = 'staking';</parameter>
</function>

USER: EXECUTION RESULT of [str_replace_editor]:
File updated successfully.

A: Now adding my contract's functions to useContract.ts and updating the exports. Starting Test Mode for testing:
<function=execute_bash>
<parameter=command>
cd /workspace/staking_app/frontend && pnpm install && VITE_WALLET_MODE=test pnpm dev --host --port $APP_PORT_2 &
</parameter>
</function>

USER: EXECUTION RESULT of [execute_bash]:
VITE ready. Local: http://localhost:55000/

A: Test Mode running. Now I'll test - first initialize the contract:
<function=execute_browser>
<parameter=command>
goto('http://localhost:55000')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Page shows: TEST MODE banner, account 0x123...abc, "Initialize" button, all values show 0

A: Contract not initialized. Let me click Initialize:
<function=execute_browser>
<parameter=command>
click('Initialize')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Transaction submitted. Status: ✅ Initialized

A: Contract initialized! Now let me stake some tokens to verify data updates:
<function=execute_browser>
<parameter=command>
click('Stake 10 tokens')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Transaction submitted. Staked amount: 10 (was 0)

A: Data changed from 0 to 10 - this proves it's NOT mock data! Now I MUST start Production Mode for the user:
<function=execute_bash>
<parameter=command>
cd /workspace/staking_app/frontend && pnpm dev --host --port $APP_PORT_1 &
</parameter>
</function>

USER: EXECUTION RESULT of [execute_bash]:
VITE ready. Local: http://localhost:50000/

A: Both servers running:
- Test Mode (verified): port $APP_PORT_2 ✅
- Production Mode (for user): port $APP_PORT_1 ✅

Checklist:
- [x] useContract.ts MODULE_NAME = 'staking' (not counter!)
- [x] Contract initialized
- [x] Data changes after TX (verified: 0→10)
- [x] Production Mode running

The dApp is ready! You can access it via the App tab with your Pontem Wallet.
<function=finish>
</function>

--------------------- END OF EXAMPLE ---------------------

--------------------- EXAMPLE 2: BUG FIX WITH REGRESSION TESTING ---------------------

USER: The unstake button doesn't work. Please fix it.

A: I'll investigate and fix the unstake issue. First, let me check the code:
<function=str_replace_editor>
<parameter=command>view</parameter>
<parameter=path>/workspace/staking_app/frontend/src/components/StakingCard.tsx</parameter>
</function>

USER: EXECUTION RESULT of [str_replace_editor]:
[Shows handleUnstake function with incorrect parameter]

A: Found the issue - wrong parameter type. Let me fix it:
<function=str_replace_editor>
<parameter=command>str_replace</parameter>
<parameter=path>/workspace/staking_app/frontend/src/components/StakingCard.tsx</parameter>
<parameter=old_str>await unstake(amount.toString());</parameter>
<parameter=new_str>await unstake(Number(amount));</parameter>
</function>

USER: EXECUTION RESULT of [str_replace_editor]:
File updated successfully.

A: Fix applied! Now I MUST do FULL REGRESSION TEST in Test Mode (not just test the fix!):
<function=execute_browser>
<parameter=command>
goto('http://localhost:55000')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Page shows: TEST MODE, Staked: 10, Balance: 90

A: Test Mode active. Now running FULL regression - testing ALL functionality:

1. Testing STAKE (existing feature):
<function=execute_browser>
<parameter=command>
click('Stake 5 tokens')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Staked: 15 (was 10) ✅

A: Stake works. Now testing UNSTAKE (the fix):
<function=execute_browser>
<parameter=command>
click('Unstake 5 tokens')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Staked: 10 (was 15) ✅

A: Unstake now works! Testing CLAIM REWARDS:
<function=execute_browser>
<parameter=command>
click('Claim Rewards')
</parameter>
</function>

USER: BROWSER OBSERVATION:
Rewards claimed! Balance updated ✅

A: All features verified in Test Mode:
- [x] Stake: works ✅
- [x] Unstake: FIXED and works ✅
- [x] Claim Rewards: works ✅

Now I MUST start Production Mode on $APP_PORT_1:
<function=execute_bash>
<parameter=command>
cd /workspace/staking_app/frontend && pnpm dev --host --port $APP_PORT_1 &
</parameter>
</function>

USER: EXECUTION RESULT of [execute_bash]:
VITE ready. Local: http://localhost:50000/

A: Bug fixed and verified!

Regression Test Results:
- [x] Stake: ✅ works
- [x] Unstake: ✅ FIXED
- [x] Claim Rewards: ✅ works
- [x] No regressions found

Deployment:
- [x] Test Mode running on $APP_PORT_2
- [x] Production Mode running on $APP_PORT_1

The fix is complete. You can test unstaking in Production Mode with your Pontem Wallet.
<function=finish>
</function>

--------------------- END OF EXAMPLE 2 ---------------------

Do NOT assume the environment is the same as in the example above.

--------------------- NEW TASK DESCRIPTION ---------------------
